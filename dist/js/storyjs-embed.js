function getEmbedScriptPath(a){for(var b=document.getElementsByTagName("script"),c="",d="",e=0;e<b.length;e++)b[e].src.match(a)&&(c=b[e].src);return""!=c&&(d="/"),c.split("?")[0].split("/").slice(0,-1).join("/")+d}function createStoryJS(a,b){function c(){LoadLib.js(v.js,d)}function d(){t.js=!0,"en"!=v.lang?LazyLoad.js(u.locale,e):t.language=!0,i()}function e(){t.language=!0,i()}function f(){t.css=!0,i()}function g(){t.font.css=!0,i()}function h(){t.font.js=!0,i()}function i(){t.checks>40||(t.checks++,t.js&&t.css&&t.font.css&&t.font.js&&t.language?t.finished||(t.finished=!0,k()):t.timeout=setTimeout("onloaded_check_again();",250))}function j(){var a="storyjs-embed";m=document.createElement("div"),n=document.getElementById(""!=v.embed_id?v.embed_id:"timeline-embed"),n.appendChild(m),m.setAttribute("id",v.id),v.width.toString().match("%")?n.style.width=v.width.split("%")[0]+"%":(v.width=v.width-2,n.style.width=v.width+"px"),v.height.toString().match("%")?(n.style.height=v.height,a+=" full-embed",n.style.height=v.height.split("%")[0]+"%"):v.width.toString().match("%")?(a+=" full-embed",v.height=v.height-16,n.style.height=v.height+"px"):(a+=" sized-embed",v.height=v.height-16,n.style.height=v.height+"px"),n.setAttribute("class",a),n.setAttribute("className",a),m.style.position="relative"}function k(){VMM.debug=v.debug,l=new VMM.Timeline(v.id),l.init(v),p&&VMM.bindEvent(global,onHeadline,"HEADLINE")}var l,m,n,o,p=!1,q="2.24",r="1.7.1",s="",t={timeout:"",checks:0,finished:!1,js:!1,css:!1,jquery:!1,has_jquery:!1,language:!1,font:{css:!1,js:!1}},u={base:embed_path,css:embed_path+"css/",js:embed_path+"js/",locale:embed_path+"js/locale/",jquery:"//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",font:{google:!1,css:embed_path+"css/themes/font/",js:"//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"}},v={version:q,debug:!1,type:"timeline",id:"storyjs",embed_id:"timeline-embed",embed:!0,width:"100%",height:"100%",source:"https://docs.google.com/spreadsheet/pub?key=0Agl_Dv6iEbDadFYzRjJPUGktY0NkWXFUWkVIZDNGRHc&output=html",lang:"en",font:"default",css:u.css+"timeline.css?"+q,js:"",api_keys:{google:"",flickr:"",twitter:""},gmap_key:""},w=[{name:"Merriweather-NewsCycle",google:["News+Cycle:400,700:latin","Merriweather:400,700,900:latin"]},{name:"NewsCycle-Merriweather",google:["News+Cycle:400,700:latin","Merriweather:300,400,700:latin"]},{name:"PoiretOne-Molengo",google:["Poiret+One::latin","Molengo::latin"]},{name:"Arvo-PTSans",google:["Arvo:400,700,400italic:latin","PT+Sans:400,700,400italic:latin"]},{name:"PTSerif-PTSans",google:["PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"PT",google:["PT+Sans+Narrow:400,700:latin","PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"DroidSerif-DroidSans",google:["Droid+Sans:400,700:latin","Droid+Serif:400,700,400italic:latin"]},{name:"Lekton-Molengo",google:["Lekton:400,700,400italic:latin","Molengo::latin"]},{name:"NixieOne-Ledger",google:["Nixie+One::latin","Ledger::latin"]},{name:"AbrilFatface-Average",google:["Average::latin","Abril+Fatface::latin"]},{name:"PlayfairDisplay-Muli",google:["Playfair+Display:400,400italic:latin","Muli:300,400,300italic,400italic:latin"]},{name:"Rancho-Gudea",google:["Rancho::latin","Gudea:400,700,400italic:latin"]},{name:"Bevan-PotanoSans",google:["Bevan::latin","Pontano+Sans::latin"]},{name:"BreeSerif-OpenSans",google:["Bree+Serif::latin","Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800:latin"]},{name:"SansitaOne-Kameron",google:["Sansita+One::latin","Kameron:400,700:latin"]},{name:"Lora-Istok",google:["Lora:400,700,400italic,700italic:latin","Istok+Web:400,700,400italic,700italic:latin"]},{name:"Pacifico-Arimo",google:["Pacifico::latin","Arimo:400,700,400italic,700italic:latin"]}];if("object"==typeof a)for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(v[o]=a[o]);if("undefined"!=typeof b&&(v.source=b),"object"==typeof url_config&&(p=!0,v.source.match("docs.google.com")||v.source.match("json")||v.source.match("storify")||(v.source="https://docs.google.com/spreadsheet/pub?key="+v.source+"&output=html")),v.js.match("locale")&&(v.lang=v.js.split("locale/")[1].replace(".js",""),v.js=u.js+"timeline-min.js?"+q),v.js.match("/")||(v.css=u.css+v.type+".css?"+q,v.js=u.js+v.type,v.js+=v.debug?".js?"+q:"-min.js?"+q,v.id="storyjs-"+v.type),u.locale=v.lang.match("/")?v.lang:u.locale+v.lang+".js?"+q,j(),LoadLib.css(v.css,f),"default"==v.font)t.font.js=!0,t.font.css=!0;else{var x;v.font.match("/")?(x=v.font.split(".css")[0].split("/"),u.font.name=x[x.length-1],u.font.css=v.font):(u.font.name=v.font,u.font.css=u.font.css+v.font+".css?"+q),LoadLib.css(u.font.css,g);for(var y=0;y<w.length;y++)u.font.name==w[y].name&&(u.font.google=!0,WebFontConfig={google:{families:w[y].google}});u.font.google?LoadLib.js(u.font.js,h):t.font.js=!0}try{if(t.has_jquery=jQuery,t.has_jquery=!0,t.has_jquery){var s=parseFloat(jQuery.fn.jquery);t.jquery=s<parseFloat(r)?!1:!0}}catch(z){t.jquery=!1}t.jquery?c():LoadLib.js(u.jquery,c),this.onloaded_check_again=function(){i()}}LazyLoad=function(a){function b(b,c){var d,e=a.createElement(b);for(d in c)c.hasOwnProperty(d)&&e.setAttribute(d,c[d]);return e}function c(a){var b,c,d=j[a];d&&(b=d.callback,c=d.urls,c.shift(),k=0,c.length||(b&&b.call(d.context,d.obj),j[a]=null,l[a].length&&e(a)))}function d(){var b=navigator.userAgent;h={async:a.createElement("script").async===!0},(h.webkit=/AppleWebKit\//.test(b))||(h.ie=/MSIE/.test(b))||(h.opera=/Opera/.test(b))||(h.gecko=/Gecko\//.test(b))||(h.unknown=!0)}function e(e,k,m,n,o){var p,q,r,s,t,u,v=function(){c(e)},w="css"===e,x=[];if(h||d(),k)if(k="string"==typeof k?[k]:k.concat(),w||h.async||h.gecko||h.opera)l[e].push({urls:k,callback:m,obj:n,context:o});else for(p=0,q=k.length;q>p;++p)l[e].push({urls:[k[p]],callback:p===q-1?m:null,obj:n,context:o});if(!j[e]&&(s=j[e]=l[e].shift())){for(i||(i=a.head||a.getElementsByTagName("head")[0]),t=s.urls,p=0,q=t.length;q>p;++p)u=t[p],w?r=h.gecko?b("style"):b("link",{href:u,rel:"stylesheet"}):(r=b("script",{src:u}),r.async=!1),r.className="lazyload",r.setAttribute("charset","utf-8"),h.ie&&!w?r.onreadystatechange=function(){/loaded|complete/.test(r.readyState)&&(r.onreadystatechange=null,v())}:w&&(h.gecko||h.webkit)?h.webkit?(s.urls[p]=r.href,g()):(r.innerHTML='@import "'+u+'";',f(r)):r.onload=r.onerror=v,x.push(r);for(p=0,q=x.length;q>p;++p)i.appendChild(x[p])}}function f(a){var b;try{b=!!a.sheet.cssRules}catch(d){return k+=1,void(200>k?setTimeout(function(){f(a)},50):b&&c("css"))}c("css")}function g(){var a,b=j.css;if(b){for(a=m.length;--a>=0;)if(m[a].href===b.urls[0]){c("css");break}k+=1,b&&(200>k?setTimeout(g,50):c("css"))}}var h,i,j={},k=0,l={css:[],js:[]},m=a.styleSheets;return{css:function(a,b,c,d){e("css",a,b,c,d)},js:function(a,b,c,d){e("js",a,b,c,d)}}}(this.document),LoadLib=function(){function a(a){var c=0,d=!1;for(c=0;c<b.length;c++)b[c]==a&&(d=!0);return d?!0:(b.push(a),!1)}var b=[];return{css:function(b,c,d,e){a(b)||LazyLoad.css(b,c,d,e)},js:function(b,c,d,e){a(b)||LazyLoad.js(b,c,d,e)}}}(this.document);var WebFontConfig;if("undefined"==typeof embed_path)var _tmp_script_path=getEmbedScriptPath("storyjs-embed.js"),embed_path=_tmp_script_path.substr(0,_tmp_script_path.lastIndexOf("js/"));!function(){"object"==typeof url_config?createStoryJS(url_config):"object"==typeof timeline_config?createStoryJS(timeline_config):"object"==typeof storyjs_config?createStoryJS(storyjs_config):"object"==typeof config&&createStoryJS(config)}();